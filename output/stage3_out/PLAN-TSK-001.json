{
  "plan_id": "PLAN-TSK-001",
  "selected_task_id": "TSK-001",
  "goal": "Predict the export value of rice based on historical production data.",
  "task_category": "predictive",
  "created_at": "2025-11-27T17:26:00.772706",
  "created_by": "stage3_agent",
  "artifacts": {
    "intermediate_table": "TSK-001_data.parquet",
    "intermediate_format": "parquet",
    "expected_columns": [
      "HS Code",
      "Description",
      "2018 - 19-Value (USD)",
      "2019 - 20-Value (USD)",
      "2020 - 21-Value (USD)",
      "2021 - 22-Value (USD)",
      "2022 - 23-Value (USD)",
      "2023 - 24-Value (USD)",
      "2024 - 25-Value (USD)",
      "Crop",
      "Season",
      "Area-2020-21",
      "Area-2021-22",
      "Area-2022-23",
      "Area-2023-24",
      "Area-2024-25",
      "Production-2020-21",
      "Production-2021-22",
      "Production-2022-23",
      "Production-2023-24",
      "Production-2024-25",
      "Yield-2020-21",
      "Yield-2021-22",
      "Yield-2022-23",
      "Yield-2023-24",
      "Yield-2024-25"
    ],
    "expected_row_count_range": [
      10,
      100
    ]
  },
  "key_normalization": [],
  "file_instructions": [
    {
      "file_id": "Export-of-Rice-Varieties-to-Bangladesh,-2018-19-to-2024-25.csv",
      "original_name": "Export-of-Rice-Varieties-to-Bangladesh,-2018-19-to-2024-25.csv",
      "alias": "export",
      "filters": [],
      "rename_columns": {},
      "join_keys": [],
      "keep_columns": [
        "HS Code",
        "Description",
        "2018 - 19-Value (USD)",
        "2019 - 20-Value (USD)",
        "2020 - 21-Value (USD)",
        "2021 - 22-Value (USD)",
        "2022 - 23-Value (USD)",
        "2023 - 24-Value (USD)",
        "2024 - 25-Value (USD)"
      ],
      "notes": null
    },
    {
      "file_id": "All-India-Estimates-of-Area,-Production-&-Yield-of-Food-Grains.csv",
      "original_name": "All-India-Estimates-of-Area,-Production-&-Yield-of-Food-Grains.csv",
      "alias": "production",
      "filters": [
        "Crop == 'Rice'",
        "Season == 'Total'"
      ],
      "rename_columns": {},
      "join_keys": [],
      "keep_columns": [
        "Crop",
        "Season",
        "Area-2020-21",
        "Area-2021-22",
        "Area-2022-23",
        "Area-2023-24",
        "Area-2024-25",
        "Production-2020-21",
        "Production-2021-22",
        "Production-2022-23",
        "Production-2023-24",
        "Production-2024-25",
        "Yield-2020-21",
        "Yield-2021-22",
        "Yield-2022-23",
        "Yield-2023-24",
        "Yield-2024-25"
      ],
      "notes": null
    }
  ],
  "join_steps": [
    {
      "step": 1,
      "description": "Load base table",
      "left_table": "export",
      "right_table": null,
      "join_type": "base",
      "join_keys": [],
      "left_on": [],
      "right_on": [],
      "expected_cardinality": "base",
      "validation": {
        "check_duplicates_on_keys": [],
        "expected_unique": false,
        "check_row_count_stable": false,
        "check_no_duplicates_introduced": false,
        "acceptable_coverage": null,
        "max_cardinality_ratio": null
      }
    },
    {
      "step": 2,
      "description": "Join production data",
      "left_table": "export",
      "right_table": "production",
      "join_type": "left",
      "join_keys": [],
      "left_on": [
        "Description"
      ],
      "right_on": [
        "Crop"
      ],
      "expected_cardinality": "many-to-one",
      "validation": {
        "check_duplicates_on_keys": [],
        "expected_unique": false,
        "check_row_count_stable": false,
        "check_no_duplicates_introduced": false,
        "acceptable_coverage": null,
        "max_cardinality_ratio": null
      }
    }
  ],
  "feature_engineering": [
    {
      "feature_name": "lagged_value_2023",
      "description": "Lagged value of 2023-24-Value (USD)",
      "transform": "lag",
      "depends_on": [
        "2023 - 24-Value (USD)"
      ],
      "implementation": "df['lagged_value_2023'] = df['2023 - 24-Value (USD)'].shift(1)"
    },
    {
      "feature_name": "growth_rate_2023",
      "description": "Growth rate of 2023-24-Value (USD)",
      "transform": "growth",
      "depends_on": [
        "2023 - 24-Value (USD)",
        "2022 - 23-Value (USD)"
      ],
      "implementation": "df['growth_rate_2023'] = (df['2023 - 24-Value (USD)'] - df['2022 - 23-Value (USD)']) / df['2022 - 23-Value (USD)']"
    }
  ],
  "validation": {
    "time_split": {
      "method": "year-based",
      "train_years": "2018-19 to 2023-24",
      "test_years": "2024-25",
      "validation_years": null,
      "leakage_check": "Ensure no data from 2024-25 is used in training."
    },
    "coverage_checks": [],
    "cardinality_checks": [],
    "additional_checks": [
      "Data loaded",
      "No duplicates on join keys"
    ]
  },
  "expected_model_types": [
    "Regression",
    "Time Series"
  ],
  "evaluation_metrics": [
    "RMSE",
    "MAE"
  ],
  "notes": [
    "Manual join based on crop type (rice) and year.",
    "Handle missing values with mean or median imputation."
  ]
}