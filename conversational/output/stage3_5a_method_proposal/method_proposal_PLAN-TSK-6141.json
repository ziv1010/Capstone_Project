{
  "_meta": {
    "timestamp": "2025-12-10T11:35:25.800384",
    "checksum": "f4d30b7984c6b026",
    "version": "1.0",
    "stage": "stage3_5a",
    "type": "method_proposal"
  },
  "data": {
    "plan_id": "PLAN-TSK-6141",
    "methods_proposed": [
      {
        "method_id": "M1",
        "name": "Naive Last Value",
        "category": "baseline",
        "description": "Predict the last observed value as future value",
        "implementation_code": "def predict_naive_last_value(train_df, test_df, target_col, date_col, **params):\n    import pandas as pd\n    if len(train_df) == 0:\n        return pd.DataFrame({target_col: [0]*len(test_df)}).rename(columns={target_col: 'predicted'})\n    last_value = train_df[target_col].iloc[-1]\n    return pd.DataFrame({target_col: [last_value]*len(test_df)}).rename(columns={target_col: 'predicted'})",
        "required_libraries": [
          "pandas"
        ],
        "hyperparameters": {},
        "expected_strengths": [
          "Simple baseline for time series",
          "Works with minimal data"
        ],
        "expected_weaknesses": [
          "Ignores all patterns and trends"
        ]
      },
      {
        "method_id": "M2",
        "name": "Linear Regression with Lags",
        "category": "statistical/traditional",
        "description": "Linear regression using lagged and rolling features",
        "implementation_code": "def predict_linear_regression(train_df, test_df, target_col, date_col, **params):\n    import pandas as pd\n    import numpy as np\n    from sklearn.linear_model import LinearRegression\n    \n    features = ['price_lag_2', 'price_rolling_3']\n    X_train = train_df[features]\n    y_train = train_df[target_col]\n    X_test = test_df[features]\n    \n    if len(X_train) == 0:\n        return pd.DataFrame({target_col: [0]*len(test_df)}).rename(columns={target_col: 'predicted'})\n    \n    model = LinearRegression()\n    model.fit(X_train, y_train)\n    predictions = model.predict(X_test)\n    return pd.DataFrame({target_col: predictions}).rename(columns={target_col: 'predicted'})",
        "required_libraries": [
          "pandas",
          "numpy",
          "sklearn.linear_model"
        ],
        "hyperparameters": {},
        "expected_strengths": [
          "Captures linear relationships between lags",
          "Interpretable coefficients"
        ],
        "expected_weaknesses": [
          "Assumes linear relationships",
          "May miss non-linear patterns"
        ]
      },
      {
        "method_id": "M3",
        "name": "Random Forest Regressor",
        "category": "ml",
        "description": "Tree-based ensemble using engineered features",
        "implementation_code": "def predict_random_forest(train_df, test_df, target_col, date_col, **params):\n    import pandas as pd\n    from sklearn.ensemble import RandomForestRegressor\n    \n    features = ['price_lag_2', 'price_rolling_3']\n    X_train = train_df[features]\n    y_train = train_df[target_col]\n    X_test = test_df[features]\n    \n    if len(X_train) == 0:\n        return pd.DataFrame({target_col: [0]*len(test_df)}).rename(columns={target_col: 'predicted'})\n    \n    model = RandomForestRegressor(n_estimators=50, random_state=42)\n    model.fit(X_train, y_train)\n    predictions = model.predict(X_test)\n    return pd.DataFrame({target_col: predictions}).rename(columns={target_col: 'predicted'})",
        "required_libraries": [
          "pandas",
          "sklearn.ensemble"
        ],
        "hyperparameters": {
          "n_estimators": 50,
          "random_state": 42
        },
        "expected_strengths": [
          "Captures non-linear patterns",
          "Handles feature interactions"
        ],
        "expected_weaknesses": [
          "Less interpretable",
          "Requires more data"
        ]
      }
    ],
    "data_split_strategy": {
      "strategy_type": "temporal_row",
      "date_column": "Date",
      "target_column": "Modal_Price_per_kg_INR",
      "train_period": "2025-09-21",
      "validation_period": "2025-09-22",
      "test_period": "2025-09-24"
    },
    "evaluation_metrics": [
      "mae",
      "rmse",
      "mape",
      "r2"
    ],
    "date_column": "Date",
    "target_column": "Modal_Price_per_kg_INR"
  }
}