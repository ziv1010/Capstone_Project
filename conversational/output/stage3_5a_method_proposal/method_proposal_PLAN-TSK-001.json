{
  "_meta": {
    "timestamp": "2025-12-09T15:07:18.201999",
    "checksum": "5144a1c37397b0e2",
    "version": "1.0",
    "stage": "stage3_5a",
    "type": "method_proposal"
  },
  "data": {
    "plan_id": "PLAN-TSK-001",
    "methods_proposed": [
      {
        "method_id": "M1",
        "name": "Last-Year-Value",
        "category": "baseline",
        "description": "Use the most recent historical area value as prediction",
        "implementation_code": "def predict_last_year_value(train_df, test_df, target_col, date_col, **params):\n    import pandas as pd\n    # Use Area-2023-24 as prediction for Area-2024-25\n    predictions = test_df['Area-2023-24'].copy()\n    return pd.DataFrame({'predicted': predictions}, index=test_df.index)",
        "required_libraries": [
          "pandas"
        ],
        "hyperparameters": {},
        "expected_strengths": [
          "Simple baseline",
          "Captures recent trends"
        ],
        "expected_weaknesses": [
          "Ignores seasonal patterns",
          "No trend extrapolation"
        ]
      },
      {
        "method_id": "M2",
        "name": "Linear-Regression",
        "category": "statistical/traditional",
        "description": "Linear regression using historical area values as features",
        "implementation_code": "def predict_linear_regression(train_df, test_df, target_col, date_col, **params):\n    import pandas as pd\n    from sklearn.linear_model import LinearRegression\n    # Use all previous area columns as features\n    features = ['Area-2020-21', 'Area-2021-22', 'Area-2022-23', 'Area-2023-24']\n    X_train = train_df[features]\n    y_train = train_df[target_col]\n    X_test = test_df[features]\n    model = LinearRegression().fit(X_train, y_train)\n    predictions = model.predict(X_test)\n    return pd.DataFrame({'predicted': predictions}, index=test_df.index)",
        "required_libraries": [
          "pandas",
          "sklearn.linear_model"
        ],
        "hyperparameters": {},
        "expected_strengths": [
          "Captures linear trends",
          "Interpretable coefficients"
        ],
        "expected_weaknesses": [
          "Assumes linear relationships",
          "No seasonality handling"
        ]
      },
      {
        "method_id": "M3",
        "name": "Random-Forest",
        "category": "ml",
        "description": "Random Forest regressor with historical area and categorical features",
        "implementation_code": "def predict_random_forest(train_df, test_df, target_col, date_col, **params):\n    import pandas as pd\n    from sklearn.ensemble import RandomForestRegressor\n    # Use area features and categorical variables\n    features = ['Area-2020-21', 'Area-2021-22', 'Area-2022-23', 'Area-2023-24', 'Crop', 'Season']\n    X_train = train_df[features].copy()\n    y_train = train_df[target_col]\n    X_test = test_df[features].copy()\n    # One-hot encode categorical features\n    X_train = pd.get_dummies(X_train, columns=['Crop', 'Season'])\n    X_test = pd.get_dummies(X_test, columns=['Crop', 'Season'])\n    # Align columns between train and test\n    X_test = X_test.reindex(columns=X_train.columns, fill_value=0)\n    model = RandomForestRegressor(n_estimators=100, random_state=42).fit(X_train, y_train)\n    predictions = model.predict(X_test)\n    return pd.DataFrame({'predicted': predictions}, index=test_df.index)",
        "required_libraries": [
          "pandas",
          "sklearn.ensemble",
          "sklearn.preprocessing"
        ],
        "hyperparameters": {
          "n_estimators": 100,
          "random_state": 42
        },
        "expected_strengths": [
          "Handles non-linear patterns",
          "Captures crop/season interactions"
        ],
        "expected_weaknesses": [
          "Less interpretable",
          "Requires more data"
        ]
      }
    ],
    "data_split_strategy": {
      "strategy_type": "temporal_column",
      "date_column": "Year",
      "target_column": "Area-2024-25",
      "train_period": "Years 2020-2023",
      "validation_period": "Year 2023 used for validation",
      "test_period": "Year 2024"
    },
    "evaluation_metrics": [
      "mae",
      "rmse",
      "r2",
      "smape"
    ],
    "date_column": "Year",
    "target_column": "Area-2024-25"
  }
}